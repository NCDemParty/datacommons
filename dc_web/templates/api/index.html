{% extends "base_large.html" %}

{% block content %}
    <div class="module whitebox docs">
		<h1 class="title">Transparency Data API</h1>

		<div class="section" id="license">
		<h1>License</h1>
		<p>Data returned by this service is subject to the use restrictions set by the Federal Election Commission. By accessing this data, you understand that you are using the data subject to all applicable local, state and federal law, including FEC restrictions.</p>
		<p>All data licensed under the Creative Commons BY-NC-SA license. By downloading data and accessing the API you are agreeing to the terms of the license.</p>
		<p>Federal campaign contribution and lobbying records must be attributed to OpenSecrets.org.</p>
		<p>State campaign contribution records must be attributed to FollowTheMoney.org.</p>
		</div>
		<div class="section" id="authentication">
		<h1>Authentication</h1>
		<p>An API key is required to access the Transparency Data API. <a class="reference external" href="http://services.sunlightlabs.com/accounts/register/">Registration is easy</a> and if you already have a <a class="reference external" href="http://services.sunlightlabs.com/accounts/register/">Sunlight Data Services</a> key you can use it here.</p>
		<p>The API key <em>must</em> be as either an <tt class="docutils literal">apikey</tt> query string parameter or as a <tt class="docutils literal"><span class="pre">X-APIKEY</span></tt> HTTP request parameter. Example:</p>
		<pre class="literal-block">http://transparencydata.com/api/1.0/contributions.csv?apikey=&lt;key&gt;&amp;...
		</pre>
		</div>
		<div class="section" id="common-parameters">
		<h1>Common Parameters</h1>
		<p>These parameters are common to all API methods.</p>
		<dl class="docutils">
		<dt>apikey</dt>
		<dd>Required if the <tt class="docutils literal"><span class="pre">X-APIKEY</span></tt> HTTP header is not used.</dd>
		<dt>page</dt>
		<dd>The page of results to return; defaults to 1.</dd>
		<dt>per_page</dt>
		<dd>The number of results to return per page, defaults to 1,000. The maximum number of records per page is 100,000.</dd>
		</dl>
		</div>
		<div class="section" id="contributions">
		<h1>Contributions</h1>
		<div class="section" id="end-point">
		<h2>End Point</h2>
		<p>JSON response format:</p>
		<pre class="literal-block">http://transparencydata.com/api/1.0/contributions.json
		</pre>
		<p>CSV response format:</p>
		<pre class="literal-block">http://transparencydata.com/api/1.0/contributions.csv
		</pre>
		</div>
		<div class="section" id="parameters">
		<h2>Parameters</h2>
		<dl class="docutils">
		<dt>amount</dt>
		<dd><p class="first">The amount of the contribution in US dollars in one of the following formats:</p>
		<table border="1" class="last docutils">
		<colgroup>
		<col width="20%" />
		<col width="80%" />
		</colgroup>
		<thead valign="bottom">
		<tr><th class="head">Example</th>
		<th class="head">Description</th>
		</tr>
		</thead>
		<tbody valign="top">
		<tr><td>500</td>
		<td>exactly 500 dollars</td>
		</tr>
		<tr><td>&gt;|500</td>
		<td>greater than or equal to 500</td>
		</tr>
		<tr><td>&lt;|500</td>
		<td>less than or equal to 500</td>
		</tr>
		</tbody>
		</table>
		</dd>
		<dt>contributor_ft</dt>
		<dd>Full-text search on name of individual, PAC, organization, or employer.</dd>
		<dt>contributor_state</dt>
		<dd>Two-letter abbreviation of state from which the contribution was made.</dd>
		<dt>cycle</dt>
		<dd><p class="first">A YYYY formatted year, 1990 - 2010.</p>
		<table border="1" class="last docutils">
		<colgroup>
		<col width="33%" />
		<col width="67%" />
		</colgroup>
		<thead valign="bottom">
		<tr><th class="head">Example</th>
		<th class="head">Description</th>
		</tr>
		</thead>
		<tbody valign="top">
		<tr><td>2006</td>
		<td>the 2006 cycle</td>
		</tr>
		<tr><td>2006|2008</td>
		<td>2006 OR 2008 cycle</td>
		</tr>
		</tbody>
		</table>
		</dd>
		<dt>date</dt>
		<dd><p class="first">date of the contribution in ISO date format</p>
		<table border="1" class="last docutils">
		<colgroup>
		<col width="38%" />
		<col width="63%" />
		</colgroup>
		<thead valign="bottom">
		<tr><th class="head">Example</th>
		<th class="head">Description</th>
		</tr>
		</thead>
		<tbody valign="top">
		<tr><td>2006-08-06</td>
		<td>exactly on August 6, 2006</td>
		</tr>
		<tr><td>&gt;&lt;|2006-08-06|2006-09-12</td>
		<td>between August 6, 2006 and September 12, 2006</td>
		</tr>
		</tbody>
		</table>
		</dd>
		<dt>employer_ft</dt>
		<dd>full-text search on name of an individual's employer</dd>
		<dt>recipient_ft</dt>
		<dd>full-text search on name of PAC or candidate receiving the contribution</dd>
		<dt>recipient_state</dt>
		<dd>two-letter abbreviation of state in which the candidate receiving the contribution is running</dd>
		<dt>seat</dt>
		<dd><p class="first">type of office being sought</p>
		<table border="1" class="docutils">
		<colgroup>
		<col width="35%" />
		<col width="65%" />
		</colgroup>
		<thead valign="bottom">
		<tr><th class="head">Options</th>
		<th class="head">Description</th>
		</tr>
		</thead>
		<tbody valign="top">
		<tr><td>federal:senate</td>
		<td>US Senate</td>
		</tr>
		<tr><td>federal:house</td>
		<td>US House of Representatives</td>
		</tr>
		<tr><td>federal:president</td>
		<td>US President</td>
		</tr>
		<tr><td>state:upper</td>
		<td>upper chamber of state legislature</td>
		</tr>
		<tr><td>state:lower</td>
		<td>lower chamber of state legislature</td>
		</tr>
		<tr><td>state:governor</td>
		<td>state governor</td>
		</tr>
		</tbody>
		</table>
		<p>Multiple values must be separated by a pipe character.</p>
		<table border="1" class="last docutils">
		<colgroup>
		<col width="57%" />
		<col width="43%" />
		</colgroup>
		<thead valign="bottom">
		<tr><th class="head">Example</th>
		<th class="head">Description</th>
		</tr>
		</thead>
		<tbody valign="top">
		<tr><td>federal:senate</td>
		<td>only the US Senate</td>
		</tr>
		<tr><td>federal:senate|federal:house</td>
		<td>US Senate OR US House</td>
		</tr>
		</tbody>
		</table>
		</dd>
		<dt>transaction_namespace</dt>
		<dd><p class="first">filters on federal or state contributions</p>
		<table border="1" class="last docutils">
		<colgroup>
		<col width="54%" />
		<col width="46%" />
		</colgroup>
		<thead valign="bottom">
		<tr><th class="head">Options</th>
		<th class="head">Description</th>
		</tr>
		</thead>
		<tbody valign="top">
		<tr><td><tt class="docutils literal">urn:fec:transaction</tt></td>
		<td>federal contributions</td>
		</tr>
		<tr><td><tt class="docutils literal">urn:nimsp:transaction</tt></td>
		<td>state contributions</td>
		</tr>
		</tbody>
		</table>
		</dd>
		</dl>
		</div>
		<div class="section" id="examples">
		<h2>Examples</h2>
		<p>Contributions from the states of Maryland and Virginia to Barbara Mikulski during the 2008 campaign cycle as JSON:</p>
		<pre class="literal-block">/api/1.0/contributions.json?apikey=&lt;key&gt;&amp;contributor_state=md|va&amp;recipient_ft=mikulski&amp;cycle=2008
		</pre>
		<p>Contributions from Alaskans to upper and lower state legislature candidates in 2002 as CSV:</p>
		<pre class="literal-block">/api/1.0/contributions.csv?apikey=&lt;key&gt;&amp;contributor_state=ak&amp;date=&gt;&lt;|2002-01-01|2002-12-31&amp;seat=state:upper|state:lower
		</pre>
		</div>
		</div>
		<div class="section" id="lobbying">
		<h1>Lobbying</h1>
		<div class="section" id="id1">
		<h2>End Point</h2>
		<p>Lobbying data is available only in JSON format since its nested structure does not lend itself to CSV. JSON response format:</p>
		<pre class="literal-block">http://transparencydata.com/api/1.0/lobbying.json
		</pre>
		</div>
		<div class="section" id="id2">
		<h2>Parameters</h2>
		<dl class="docutils">
		<dt>amount</dt>
		<dd><p class="first">The amount spent on lobbying in US dollars in one of the following formats:</p>
		<table border="1" class="last docutils">
		<colgroup>
		<col width="20%" />
		<col width="80%" />
		</colgroup>
		<thead valign="bottom">
		<tr><th class="head">Example</th>
		<th class="head">Description</th>
		</tr>
		</thead>
		<tbody valign="top">
		<tr><td>500</td>
		<td>exactly 500 dollars</td>
		</tr>
		<tr><td>&gt;|500</td>
		<td>greater than or equal to 500</td>
		</tr>
		<tr><td>&lt;|500</td>
		<td>less than or equal to 500</td>
		</tr>
		</tbody>
		</table>
		</dd>
		<dt>client_ft</dt>
		<dd>Full-text search on the name of the client for which the lobbyist is working.</dd>
		<dt>client_parent_ft</dt>
		<dd>Full-text search on the name of the parent organization of the client.</dd>
		<dt>filing_type</dt>
		<dd><p class="first">Type of filing as identified by CRP. CRP recommends the following rules be used:</p>
		<ul class="simple">
		<li>Do not total e records unless they are larger than the associated s record.</li>
		<li>Count c records in both total and industry when filing_included_nsfs is <tt class="docutils literal">n</tt>. Don't count it in total or industry when filing_included_nsfs is <tt class="docutils literal">y</tt>.</li>
		<li>Count b records in both total and industry when filing_included_nsfs is <tt class="docutils literal">n</tt>. Exclude from total and include in industry but subtract it from the total of the parent when filing_included_nsfs <tt class="docutils literal">y</tt>.</li>
		</ul>
		<table border="1" class="last docutils">
		<colgroup>
		<col width="5%" />
		<col width="95%" />
		</colgroup>
		<thead valign="bottom">
		<tr><th class="head">Code</th>
		<th class="head">Meaning</th>
		</tr>
		</thead>
		<tbody valign="top">
		<tr><td>n</td>
		<td>non self filer parent</td>
		</tr>
		<tr><td>m</td>
		<td>non self filer subsidiary for a non self filer parent</td>
		</tr>
		<tr><td>x</td>
		<td>self filer subsidiary for a non self filer parent</td>
		</tr>
		<tr><td>p</td>
		<td>self filer parent</td>
		</tr>
		<tr><td>i</td>
		<td>non self filer for a self filer parent that has same catorder as the parent</td>
		</tr>
		<tr><td>s</td>
		<td>self filer subsidiary for a self filer parent</td>
		</tr>
		<tr><td>e</td>
		<td>non self filer subsidiary for a self file subsidiary</td>
		</tr>
		<tr><td>c</td>
		<td>non self filer subsidiary for a self filer parent with same catorder</td>
		</tr>
		<tr><td>b</td>
		<td>non self filer subsidiary for a self filer parent that has different catorder</td>
		</tr>
		</tbody>
		</table>
		</dd>
		<dt>lobbyist_ft</dt>
		<dd>Full-text search on the name of the lobbyist involved in the lobbying activity.</dd>
		<dt>registrant_ft</dt>
		<dd>Full-text search on the name of the person or organization filing the lobbyist registration. This is typically the firm that employs the lobbyists. Use the registrant_is_firm field to filter on firms v. individuals.</dd>
		<dt>transaction_id</dt>
		<dd>Report ID given by the Senate Office of Public Records.</dd>
		<dt>transaction_type</dt>
		<dd>The type of filing as reported by the Senate Office of Public Records.
		<a class="reference external" href="http://assets.transparencydata.org.s3.amazonaws.com/docs/transaction_types-20100402.csv">http://assets.transparencydata.org.s3.amazonaws.com/docs/transaction_types-20100402.csv</a></dd>
		<dt>year</dt>
		<dd><blockquote class="first">The year in which the registration was filed. A YYYY formatted year, 1998 - 2010.</blockquote>
		<table border="1" class="last docutils">
		<colgroup>
		<col width="43%" />
		<col width="57%" />
		</colgroup>
		<thead valign="bottom">
		<tr><th class="head">Example</th>
		<th class="head">Description</th>
		</tr>
		</thead>
		<tbody valign="top">
		<tr><td>2006</td>
		<td>2006</td>
		</tr>
		<tr><td>2006|2008</td>
		<td>2006 OR 2008</td>
		</tr>
		</tbody>
		</table>
		</dd>
		</dl>
		</div>
		</div>
	</div>
{% endblock %}

{% block sidebar %}

    <div class="module">
		<h2>API Key</h2>
		<p>
			Register for an API key at <a href="http://services.sunlightlabs.com/accounts/register/">Sunlight Data Services</a>.
			This key can be used to access all of the <a href="http://sunlightlabs.com">Sunlight Labs</a> data APIs.
		</p>
	</div>

    <div class="module">
		<h2>Methods</h2>
		<ul>
			<li><a href="{% url api_index %}#contributions">Contributions</a></li>
			<li><a href="{% url api_index %}#lobbying">Lobbying</a></li>
			<li><a href="{% url api_aggregate_contributions %}">Aggregate Contributions</a></li>
		</ul>
	</div>
	
    <div class="module">
		<h2>Client Libraries</h2>
		<p>Ruby library is in the works.</p>
		<ul>
			<li><a href="https://github.com/sunlightlabs/python-transparencydata">Python</a></li>
		</ul>
	</div>
    
	<div class="module partner">
		<h2>Partnered With</h2>
		<a id="openSecrets" href="#"><big>OpenSecrets.org</big><small>Center for Responsive Politics</small></a>
		<a id="nimsp" href="#"><big>National Institute on Money in State Politics</big><small>Follow The Money</small></a>
		<div class="clear"></div>
	</div>
	
{% endblock %}